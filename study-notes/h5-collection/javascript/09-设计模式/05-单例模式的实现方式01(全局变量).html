<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>

步骤:
1.提供一个全局变量
2.提供一个构造函数
3.判断全局变量是否有值,如果有直接返回
4.把this赋值给instance
5.通过this设置属性或者方法

// 问题:
    在整一个作用域都可以访问或者修改这个全局变量,修改后创建的对象不在是之前的单例对象

<script>
    // 1.提供一个全局变量
    var instance;
    // 2.提供一个构造函数
    function Person() {

        // 3.判断全局变量是否有值,如果有直接返回
        if (instance) {
            console.log("之前已经创建过,直接返回");
            return instance;
        }

        // 4.把this赋值给instance
        instance = this;
        // 5.通过this 设置属性或者方法
        this.name = "zs";
        console.log("第一次创建对象");
    }

    var p1= new Person();
    var p2 = new Person();
    var p4 = new Person();
//    console.log(p1 == p2); // true

//    instance = "demo123";
//    var p3 = new Person();
//    console.log(p3); // false
</script>
</body>
</html>