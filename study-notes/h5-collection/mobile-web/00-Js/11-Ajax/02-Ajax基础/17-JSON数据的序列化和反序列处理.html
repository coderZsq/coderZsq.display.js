<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <title>17-JSON数据的序列化和反序列处理</title>
    <style>
        * {
            margin: 0;
            padding: 0;
        }
    </style>
</head>
<body>
<script>
    //JSON.parse()
    //语法:SON.parse(json,fn)
    //第一个参数:要处理的JSON数据
    //第二个参数:过滤的函数
    //作用: 把JSON-->对象|数组
    var jsonObj = '{"name":"zs","age":18,"classNo":41}';
    var objJson = JSON.parse(jsonObj);
    console.log(objJson);

    var jsonArr = '[{"name":"zs","age":18},{"name":"ls","age":99},{"name":"wc","age":18}]'
    var arrJSON = JSON.parse(jsonArr);
    console.log(arrJSON);


    //在过滤的函数中如果返回的是undefined 那么表示要删除这个键值对
    var objT = JSON.parse(jsonObj,function (key,value) {
        if (typeof value== "string")
        {
            return undefined;
        }else
        {
            return value ;
        }
    });
    console.log(objT);


    //JSON.stringify()
    //语法:JSON.stringify(obj,fn,i)
    //第一个参数:要处理对象
    //第二个参数:过滤的函数
    //第三个参数:控制缩进的(可以传递数字<=10 如果超过10那么就==10 ,也可以传递字符)
    //作用: 把对象|数组--->JSON
    var jsonT = JSON.stringify(objJson,function (key,value) {
        if (key == "age")
        {
            return undefined;
        }else
        {
            return value;
        }
    },4);
    console.log(jsonT);
</script>
</body>
</html>