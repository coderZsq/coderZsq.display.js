<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<!--存放舞台的容器-->
<div id="containerId"></div>
<script src="js/konva.js"></script>
<script src="js/PieChart.js"></script>
<script>
    // 1.创建舞台
    var stage = new Konva.Stage({
        width : window.innerWidth,
        height : window.innerHeight,
        container : 'containerId'
    });

    // 2.创建层
    var layer = new Konva.Layer();
    stage.add(layer);

    // 3.造假数据
    var dataArray = [
        {name:'上海',color:'red',value:0.2},
        {name:'北京',color:'blue',value:0.25},
        {name:'广州',color:'purple',value:0.15},
        {name:'杭州',color:'pink',value:0.3},
        {name:'大理',color:'green',value:0.1}
    ];

    // 4.创建饼状图
    // 圆心
    var x0 = stage.width() / 2;
    var y0 = stage.height() / 2;
    var innerRadius = 160;
    var outerRadius = 180;
    var pie = new PieChart({
        x : x0,
        y : y0,
        innerRadius : innerRadius,
        outerRadius : outerRadius,
        outerColor : '#ccc',
        outerWidth : 5,
        dataArray : dataArray
    });
    // 绘制饼状图
    pie.render(layer);

    // 5.绘制层
    layer.draw();

    // 6.做动画 contentClick->点击整一个舞台
    stage.on("contentClick",function () {
        pie.playAnimation();
    });
</script>
</body>
</html>